{% extends "base.html" %}
{% block title %}Index page{% endblock %}

{% block content %}
    <h1>Form creation!</h1>
<!--    <ul>-->
<!--        {% for item in mylist %}-->
<!--            <li {% if item == 3 %}style="color: pink"{% endif %}>{{ item }}</li>-->
<!--        {% endfor %}-->
<!--    </ul>-->
<!--    <p>{{ myvalue }}</p>-->
<!--    <p>{{ myresult }}</p>-->

<!--    <a href="{{ url_for('filter') }}">Filter</a>-->
    <form method="POST" action="{{ url_for('index') }}">
        <input type="text" name="username" placeholder="username"><br><br>
        <input type="password" name="password" placeholder="password"><br><br>
        <input type="submit" value="Login">
    </form>

    <h1>File Upload</h1>
    <form method="POST" action="{{ url_for('file_upload') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain" required="required">
        <input type="submit" value="Upload File">
    </form>

    <h1>Convert to CSV</h1>
    <form method="POST" action="{{ url_for('convert_csv') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" required="required">
        <input type="submit" value="Upload File">
    </form>

    <h1>Convert to CSV(2)</h1>
    <form method="POST" action="{{ url_for('convert_csv_two') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" required="required">
        <input type="submit" value="Upload File">
    </form>

    <h1>JavaScript JSON Request</h1>
    <button id="post_button">Send POST Request</button>

    <script type="text/javascript">
        const postButton = document.getElementById('post_button');
        const jsonData = {name: 'vishwa', greeting: 'Congratulations!'}

        postButton.addEventListener('click', () => {
            fetch('{{ url_for("handle_post") }}', {
                method: 'POST',
                headers: {
                    'Content-type': 'application/json; charset=utf-8'
                },
                body: JSON.stringify(jsonData)
            })
                .then(response => response.json())
                .then(data => console.log('Success:', data))
                .catch((error) => {
                console.error('Error:', error)
            });
        });
    </script>

{% endblock %}